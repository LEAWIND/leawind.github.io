<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="user-scalable=0">
		<title>O</title>
		<link rel="stylesheet" href="style/index.css">
	</head>
	<body class="c">
		<main>
			<button class="sidebarbtn" tgt="mainsidebar"><div></div></button>
			<div class="sidebar" id="mainsidebar">
				<div class="sidebarholder"></div>
				<b href="intro/main.htm" class="fa">First page</b>
				<h1>Demo</h1>
				<ul class="facontainer">
					<li href="intro/FAM-intro.htm">hided text</li>
					<li href="intro/particle-intro.htm">Particle</li>
					<li href="intro/2048-intro.htm">2048+</li>
				</ul>
			</div>
			<iframe src="intro/main.htm" frameborder="0" class="introframe withsidebar"></iframe>
		</main>
		<script>
var DEVICE = 'c';
var IFRAME = document.getElementsByClassName('introframe')[0]
// draw canvases
var cvses = document.getElementsByTagName('canvas')
for(let i=0;i<cvses.length;i++){
	let ele = cvses[i];
	ele.c = ele.getContext('2d');
	let c = ele.c;
	switch(ele.getAttribute('content')){
		case '':
			break;
	}
}
// add class for .facontainer children
var $0 = document.getElementsByClassName('facontainer');
for(let i=0;i<$0.length;i++){
	let n=$0[i].children;
	for(let j=0;j<n.length;j++){
		n[j].classList.add('fa');
	}
}
var func = function(){
	IFRAME.setAttribute('src', this.getAttribute('href'))
}
$0 = document.getElementsByClassName('fa')
for(let i=0;i<$0.length;i++){
	let ele = $0[i]
	ele.onclick = func;
}


setInterval(()=>{
	// device detect
	if(innerHeight / innerWidth > 1.1 || innerWidth<=600){
		document.body.className = 'm';
		DEVICE = 'm';
	}else{
		document.body.className = 'c';
		DEVICE = 'c';
	}
}, 1000/20)

/* Events */
var func;
// side bar button
var sidebarbtn = document.getElementsByClassName('sidebarbtn');
var introframe = document.getElementsByClassName('introframe');
func = function(){
	let ele = document.getElementById(this.getAttribute('tgt'));
	ele.classList.toggle('hidedsidebar');
	for(let i=0;i<introframe.length;i++){
		ele = introframe[i]
		ele.classList.toggle('withsidebar')
	}
}
for(let i=0;i<sidebarbtn.length;i++){
	let ele = sidebarbtn[i];
	ele.onclick = func;
}
		</script>
	</body>
</html>
