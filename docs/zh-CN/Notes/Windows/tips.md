# Windows tips

## 各种链接

| 链接类型     | 别名 | 创建方式  | 图标带箭头 | 双击运行时能根据目标文件名识别文件类型 | 可以在属性中查看目标位置 | 会被父目录统计大小 | 可以对目录创建 | 可以对文件创建 | 可对不存在的路径创建 | 删除目标对链接的影响             |
| ------------ | ---- | --------- | ---------- | -------------------------------------- | ------------------------ | ------------------ | -------------- | -------------- | -------------------- | -------------------------------- |
| 文件符号链接 |      | MKLINK    | 是         | 是                                     | 是                       | 否                 | 是，但无法访问 | 是             | 是                   | 将无法访问                       |
| 目录符号链接 |      | MKLINK /D | 是         | -                                      | 是                       | 否                 | 是             | 是，但无法访问 | 是                   | 将无法访问                       |
| 硬链接       |      | MKLINK /H | 否         | 否                                     | 否                       | 是                 | 否             | 是             | 否                   | 似乎仍然可以访问原文件？很神奇。 |
| 目录链接     |      | MKLINK /J | 是         | -                                      | 否                       | 否                 | 是             | 是，但无法访问 | 是                   | 将无法访问                       |

## 如何重建 windows 系统引导

移动系统分区后，可能无法直接启动 windows 系统，需要重建引导。

首先制作一个 windows 系统启动盘。推荐使用 ventoy。

开机时选择启动制作好的启动盘，启动其中的 windows 系统。

进入 windows 安装界面，点击下一步。

在界面的左下角点击 修复计算机，选择疑难解答，点击命令提示符，进入命令行界面。

这里可以按 `alt+enter`进入全屏。

使用`dir`命令查看系统安装路径（通常是`C:\Windows`）

```bat
DIR C:
```

命令应该会输出 C 盘下的所有文件和目录，其中应该会包括 Windows 目录，如果没有 Windows 目录，可以尝试其他盘符，例如`D:`或`E:`。

接下来使用`bcdboot`命令重建系统引导。

```bat
BCDBOOT C:\Windows
```

我实操时发现原本的 C 盘在这变成了 D 盘，而原本的 EFI 扇区在这变成了 C 盘。那么可以使用`/s`参数指定引导文件所在路径。

```bat
BCDBOOT D:\Windows /s C:
```

对当时的我的电脑来说，上面这条命令的含义是，在 EFI 扇区（C 盘）中建立对`D:\Windows`处的系统的引导。

运行`bcdboot`命令后，显示`已成功创建启动文件`说明成功了，现在可以正常启动了。
